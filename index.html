<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script> -->
    <title>Weather App</title>
</head>
<body>
    <section class="vh-100" style="background-color: #f5f6f7;">
        <div class="container py-5 h-100">
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-md-10 col-lg-8 col-xl-6">
      
              <div class="card bg-dark text-white" style="border-radius: 40px;">
                <div class="bg-image" id="weathercon" >
                  <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-weather/draw1.webp"
                    class="card-img" alt="weather" style="border-radius: 40px;" />
                  <div class="mask" style="background-color: rgba(190, 216, 232, .5);"></div>
                </div>
                <div class="card-img-overlay text-dark p-5">
                  <h4 class="mb-0">{%location%},{%country%}</h4>
                  <p class="display-2 my-3">{%tempVal%}&deg;C</p>
                  <p class="mb-2" id="date">Date: <strong></strong></p>
                  <h5 id ="tempstatus" >{%tempstatus%}</h5>
                </div>
              </div>
      
            </div>
          </div>
        </div>
      </section>
      <script>
        const curDate = document.getElementById("date");
        let weathercon = document.getElementById("weathercon");
        let  tempStatus = document.getElementById("tempstatus").innerHTML

        //  tempStatus = "{%tempstatus%}";
        console.log(tempStatus);

        if(tempStatus == "Sunny"){
          weathercon.innerHTML = 
          `<img src="https://cdn.pixabay.com/photo/2018/08/06/22/55/sun-3588618__480.jpg"
                    class="card-img" alt="weather" style="border-radius: 40px;" />
                  <div class="mask" style="background-color: rgba(190, 216, 232, .5);"></div>
          `
        }else if(tempStatus == "Clouds"){
          weathercon.innerHTML = 
          `<img src="https://img.freepik.com/premium-vector/vector-pink-sky-clouds-anime-clean-style-vector-evening-sky-clouds-sunset_166005-1020.jpg?w=2000"
                    class="card-img" alt="weather" style="border-radius: 40px;" />
                  <div class="mask" style="background-color: rgba(190, 216, 232, .5);"></div>
          `
        }else if(tempStatus == "Rainy"){
          weathercon.innerHTML = 
          `<img src="https://www.shutterstock.com/image-vector/rain-sky-background-260nw-270828785.jpg"
                    class="card-img" alt="weather" style="border-radius: 40px;" />
                  <div class="mask" style="background-color: rgba(190, 216, 232, .5);"></div>
          `
        }else{
          weathercon.innerHTML = 
          `<img src="https://cdn.pixabay.com/photo/2018/08/06/22/55/sun-3588618__480.jpg"
                    class="card-img" alt="weather" style="border-radius: 40px;" />
                  <div class="mask" style="background-color: rgba(190, 216, 232, .5);"></div>
          `
        }

        const getCurrentDay = ()=>{
          var weekday = new Array(7);
          weekday[0]="Sun";
          weekday[1]="Mon";
          weekday[2]="Tue";
          weekday[3]="Wed";
          weekday[4]="Thu";
          weekday[5]="Fri";
          weekday[6]="Sat";

          let currentTime  = new Date();
          let day = weekday[currentTime.getDay()];
          return day;

          

        };

        const getCurrentTime = ()=>{
          var now = new Date();
          var month = now.getMonth()+1;
          var date = now.getDate();
          var year = now.getFullYear();

          console.log(date + "/" + month + "/" + year)

          
        let hours = now.getHours();
        let mins = now.getMinutes();

        let periods = "AM";

        if(hours > 11){
          periods = "PM";
          if(hours > 12){
            hours -= 12
          }
        }
        if(mins < 10) {
          mins = "0" + mins;
        }

        return `${month} ${date} ${year} | ${hours}: ${mins}${periods}`

        }

      

        

        

        // getCurrentDay();
        // getCurrentTime();
        curDate.innerHTML = getCurrentDay() + " | " + getCurrentTime();


      </script>
</body>

</html>